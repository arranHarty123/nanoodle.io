<header class="masthead">
    <div class="section-heading text-center">
        <img src="../../assets/nanoodle_logo.svg" width="50px" class="img-fluid" alt="">
        <br>
        <br>
        <h3>Block Overview</h3>
        <br>
      </div>
</header>
<section class="features" id="features">
  <ng-container *ngIf="error; then errorPresent; else results">
  </ng-container>
  <ng-template #errorPresent>
    <div class="container">
      <h3>Block Details</h3>
      <p>Error: {{ error }}</p>
    </div>
  </ng-template>
  <ng-template #results>
    <ng-container *ngIf="blockResults; then loaded; else loading">
    </ng-container>
    <ng-template #loaded>
      <div class="container">
          <ng-container *ngIf="blockCountResults; then blockCountLoaded; else blockCountLoading">
            </ng-container>
            <ng-template #blockCountLoaded>
              <p>The NANOODLE node is {{ formatDecimals(+(+blockCountResults['count']/(+blockCountResults['count']++blockCountResults['unchecked']))*100) }}% in sync with the Nano network</p>
            </ng-template>
            <ng-template #blockCountLoading>
                <i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
            </ng-template>
        <h3>Block Details</h3>
        <div class="row">
          <div class="col-lg-12 my-auto">
            <p>Hash: {{ key }}</p>
            <p>Time: 12/12/12 10:10</p>
            <p>Block Account: <a class="account" [routerLink]="['/account',detail['block_account']]">{{ detail['block_account'] }}</a></p>
            <p>Amount: {{ formatAmount(detail['amount']) }}</p>
            <p>Type: {{ contents['type'] }}</p>
            <p>Previous: <a [routerLink]="['/block',contents['previous']]">{{ contents['previous'] }}</a></p>
            <p>Representative: <a class="account" [routerLink]="['/account',contents['representative']]">{{ contents['representative'] }}</a></p>
            <p>Balance: {{ formatAmount(contents['balance']) }}</p>
            <p>Link: {{ contents['link'] }}</p>
            <p>Link As Account: <a class="account" [routerLink]="['/account',contents['link_as_account']]">{{ contents['link_as_account'] }}</a></p>
            <p>Signature: {{ contents['signature'] }}</p>
            <p>Work: {{ contents['work'] }}</p>
          </div>
        </div>
      </div>
    </ng-template>
    <ng-template #loading>
      <div class="container">
        <div>
          <i class="fa fa-refresh fa-spin fa-3x fa-fw"></i>
        </div>
      </div>
    </ng-template>
  </ng-template>
</section>